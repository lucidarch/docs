<!doctype html><html><head><title>Introduction :: Lucid</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2020-10-29T18:59:13 UTC"><meta name=description content><title>Introduction :: Lucid</title><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css integrity=sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css><script src=https://code.jquery.com/jquery-3.5.1.min.js></script><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/layout.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/css/style.main.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/css/style.menu.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/notice.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/tabs.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/panel.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/columns.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/children.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/attachments.css><link rel=stylesheet type=text/css href=https://docs.lucidarch.dev/sass/shortcodes/alert.css><link rel=stylesheet type=text/css href=/css/docport.css><script src=/js/docport.js></script><script type=text/javascript>var baseurl="https:\/\/docs.lucidarch.dev";</script><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/css/syntax.css><link rel=apple-touch-icon sizes=180x180 href=/icon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icon/favicon-16x16.png><link rel=manifest href=/icon/site.webmanifest><script async defer src=https://buttons.github.io/buttons.js></script></head><body data-url=/introduction/ class=hideheader><style type=text/css>#debug{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:3.5rem;margin-bottom:.35rem;padding:0 2rem;position:fixed;left:0;right:0;top:0;top:0;min-height:150px;background-color:#fff;border:3px solid red;z-index:10000;word-wrap:all;overflow:auto}</style><article><aside><div class=search><div class=searchbox><input data-search-input id=search-by type=text placeholder="Type to search..."></div><script type=text/javascript src=/vendor/lunr/lunr.min.js></script><script type=text/javascript src=/vendor/auto-complete/auto-complete.js></script><link href=/vendor/auto-complete/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https:\/\/docs.lucidarch.dev";</script><script type=text/javascript src=/js/search.js></script></div><div style=margin-top:30px><a href=/ style=display:flex;justify-content:left;align-items:center><img src=/icon/lucid-icon.svg width=100 height=100 style=margin-left:15px><h2 style=margin-top:-14px>Lucid</h2></a></div><div id=close_menu><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')"><i class="fa fa-lg fa-times"></i></a></div><ul class=menu><li data-nav-id=https://docs.lucidarch.dev/introduction/ class="dd-item parent active
alwaysopen
item_level_$level"><a href=/introduction/>Introduction</a></li><li data-nav-id=https://docs.lucidarch.dev/philosophy/ class="dd-item
alwaysopen
item_level_$level"><a href=/philosophy/>Philosophy</a></li><hr><li data-nav-id=https://docs.lucidarch.dev/routing/ class="dd-item
alwaysopen
item_level_$level"><a href=/routing/>Routing</a></li><li data-nav-id=https://docs.lucidarch.dev/controllers/ class="dd-item
alwaysopen
item_level_$level"><a href=/controllers/>Controllers</a></li><li data-nav-id=https://docs.lucidarch.dev/features/ class="dd-item
alwaysopen
item_level_$level"><a href=/features/>Features</a></li><li data-nav-id=https://docs.lucidarch.dev/jobs/ class="dd-item
alwaysopen
item_level_$level"><a href=/jobs/>Jobs</a></li><li data-nav-id=https://docs.lucidarch.dev/operations/ class="dd-item
alwaysopen
item_level_$level"><a href=/operations/>Operations</a></li><hr><li data-nav-id=https://docs.lucidarch.dev/cli/ class="dd-item
alwaysopen
item_level_$level"><a href=/cli/>CLI Reference</a></li></ul></aside><section class=page><nav id=ariane aria-label=breadcrumb><ol class=ariane><li><a class=text-link href=https://docs.lucidarch.dev>Home</a></li><li class=active>Introduction</li></ol></nav><h1>Introduction</h1><div class=jump-to-section><span onclick="$h=$(this);$h.next('nav').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('nav').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right';});});"><span class="fas fa-align-right"></span>Jump to Section
<i class="fas fa-chevron-right"></i></span><nav id=TableOfContents><ul><li><a href=#the-motive>The Motive</a></li><li><a href=#lucid--laravel>Lucid ‚Ä¢ Laravel</a></li><li><a href=#the-architecture>The Architecture</a><ul><li><a href=#framework>Framework</a></li><li><a href=#foundation>Foundation</a></li><li><a href=#services>Services</a></li><li><a href=#domains>Domains</a></li><li><a href=#data>Data</a></li></ul></li></ul></nav></div><div class=content><p>Software architecture to build services that last with minimum technical dept; based on proven principles and practical guidelines.</p><hr><h2 ref=the-motive>The Motive</h2><a class=anchor id=the-motive></a><p>Developing large-scale applications has always been easy to think about but when it comes to implementation lots of questions arise especially when working in a collaborative team where every decision is peer-discussed and made over coffee or beer on a napkin. Some of these discussions go around fundamental subjects such as:</p><ul><li>Where should this good piece of art code reside (folder, file, class, etc.)?</li><li>How should we apply these sets of design patterns to implement this feature?</li><li>How can you describe the underlying architecture that is running‚Ä¶ EVERYTHING!?</li></ul><p>Asking such questions is a brilliant start, knowing that every project or product we start working on starts from a mere idea - a spark - to help fulfil a human function. Nevertheless, deep in the back of our heads we know that at some point in the future it will grow and we don&rsquo;t want it to grow on us, we&rsquo;d rather have it grow with us. Especially in an agile culture we want the pieces of our applications to be easily interchangeable with the least friction possible and keeping technical debt to a minimum.</p><p>What is an architecture anyway? But <strong>a pattern of connected structures cooperating according to a set of guidelines and principles to serve their purpose.</strong></p><p>From that sentence, Lucid will be the practical <strong>set of guidelines</strong> <strong>and principles</strong> to build backend services that last.</p><p>The following questions will also help ensure that you should incorporate Lucid in your current or upcoming project:</p><ul><li>Have you ever been onboarded to a code that is completely custom to the point that it</li><li>Have you seen a Laravel project, even though it has been provided with Laravel&rsquo;s impeccable simplicity, somehow managed to be ruined by endless whirlpools of huge controllers and deeply dependant and connected classes?</li></ul><p>These situations and many more are best described in the following picture, which analogy is our application in a few months time.</p><figure><img src=/media/images/composition-intertwined.png width=600></figure><div style=padding-top:2px;display:flex;justify-content:center><span style="margin:0 auto;font-size:.8rem;color:#b4b4b4">Technical debt due to intertwined object relationships in a legacy application.</span></div><p>If you would like the image above to become something as below&mldr;</p><figure><img src=/media/images/composition-clear.png width=600></figure><div style=padding-top:2px;display:flex;justify-content:center><span style="margin:0 auto;font-size:.8rem;color:#b4b4b4">Clear and precise composition of objects.</span></div><div class="alert info" role=alert><i class="fas fa-archway" style=font-size:16px></i>You&rsquo;re in the right place!</div><h2 ref=lucid--laravel>Lucid ‚Ä¢ Laravel</h2><a class=anchor id=lucid--laravel></a><p>Within controllers and commands, our application is prone to disorder due to the high degree of autonomy in MVC. Lucid fills that gap to complete the chain of Laravel&rsquo;s MVC framework.</p><p>The relationship between Laravel and Lucid is that they complete each other. Lucid will be the bond between the application&rsquo;s entry points and the components that do the actual work (classes, interfaces, design patterns etc.) securing code from meandering in drastic directions.</p><p><img src=/media/images/laravel-lucid.png alt="Laravel & Lucid"></p><p>In fact, the very first announcement of Lucid to the public was in Laracon EU 2016 two years after its in-house use. See video below if you would like to watch the announcement:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/wSnM4JkyxPw style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><div style=padding-top:2px;display:flex;justify-content:center><span style="margin:0 auto;font-size:.8rem;color:#b4b4b4">Abed Halawi - The lucid architecture for building scalable applications - Laracon EU 2016</span></div><h2 ref=the-architecture>The Architecture</h2><a class=anchor id=the-architecture></a><p>At a glance&mldr;</p><p><img src=/media/images/architecture-overview.jpg alt="Lucid Architecture Overview"></p><h3 ref=framework>Framework</h3><a class=anchor id=framework></a><p>Provides the ‚Äúkernel‚Äù, request/response lifecycle, dependency injection and the core functionalities for the Foundation to build on. Knows nothing about the application logic. All this with the power of <a href=https://laravel.com>Laravel</a>.</p><h3 ref=foundation>Foundation</h3><a class=anchor id=foundation></a><p>Provides support to the concrete components of the architecture (services, domains and data) by extending the framework with fundamental (abstract) classes; due to that, and the fact that the concrete components will only deal with the foundation, any change at the framework level will be transparent and have the least effect possible on the application overall and as a result <strong>the Lucid architecture grants a reduced amount of <a href=https://en.wikipedia.org/wiki/Technical_debt>technical debt</a> in the case of a drastic update/upgrade or even migration to another framework</strong>.</p><p>Examples of what the Foundation might include:</p><ul><li><code>FoundationController</code> to be extended by the controllers in services</li><li>Entity class that extends a base class such as an Eloquent model</li><li>Decorators for validation, authentication and other fundamental yet shared functionality</li></ul><h3 ref=services>Services</h3><a class=anchor id=services></a><p>They implement the features but do not implement the logic of the feature themselves, their responsibility is to compose Jobs and Operations from Domains. Think of a Job as a step if the feature was a user story; and an Operation is a group of steps that are often executed together to accomplish a single purpose.</p><div class=card><div class=card-body><p class=card-text><p><strong>Example</strong>: a project consisting of an API and an Admin where you would implement each in its own scope for separation of concerns yet use common code between them using Domains and Data.</p></p></div></div><p><strong>Terminology</strong></p><p>The terminology of a service is used in the form of ‚ÄúOur application provides data through an API service, it also has an Admin service with a user interface to perform advanced data manipulation procedures.</p><p><strong>Hierarchy</strong></p><p>The hierarchy of services and their components is as described in the pyramid below, given the example of an HTTP request:</p><p><img src=/media/images/architecture-hierarchy.png alt="Lucid Architecture Hierarchy"></p><h3 ref=domains>Domains</h3><a class=anchor id=domains></a><p>They implement the business logic and expose them through jobs, they are isolated and MUST NOT inter-communicate [no domain calls another]. Their objective is to categories the jobs that accomplish unit-level tasks in our application within a definite scope.</p><div class=card><div class=card-body><p class=card-text><p><strong>Example</strong>: in a task management app there‚Äôs the <code>User</code> domain and <code>Task</code> domain each having its own validators, generators, builders, factories, utility classes etc. and they utilise the data layer to perform data-specific procedures in addition to Jobs that are (favourably) the only way to communicate with domains. Potential Jobs in a task management app in the <code>Task</code> domain could be: <code>SaveTaskJob</code>, <code>MarkTaskCompletedJob</code>, <code>AssignTaskToUserJob</code> , where each of these is a class of its own. More on Jobs in Definitions.</p></p></div></div><div class="notices info"><p>We suffix Job classnames with <code>Job</code> for readability and easier navigation, also extending the PSR-2 coding standard of suffixing interfaces with <code>Interface</code> and traits with <code>Trait</code>.</p></div><h3 ref=data>Data</h3><a class=anchor id=data></a><p>Owns the data (duh!), which means models (entities), repositories, value objects, enums&mldr; you name it. You may be asking why separate the data layer from the domains layer? aren‚Äôt they related? The answer is of course they are! Yet domains remain to be isolate, self-satisfied and no cross-domain relationships exist while data is organically related; if we included them in domains we would‚Äôve ended up working with cross-domain dependencies which defies the idea of domains being self-contained.</p><p>Another reason for having a separate data layer is the trend of the 21st centry: üí´<strong>data science</strong>‚ú® which makes this layer the place for your¬†statistics and analytics algorithms, <strong>a central layer for the elements of data</strong>.</p><div class=card><div class=card-body><p class=card-text><p><strong>Principle</strong>: Domains, Jobs and Operations are isolated classes with single responsibilities, they perform one thing and one thing only;
no inter-domain, inter-job or inter-operation dependencies should exist whatsoever.</p></p></div></div><p>Congratulations for making it thus far! It may feel a little rough though, and that&rsquo;s why there is more to these concepts for you to dig into.</p></div><div class=chevrons><a class=next href=/philosophy/ title=Philosophy style=margin-right:0><div><p>Next page</p><label>Philosophy</label></div><i class="fas fa-arrow-right" style=font-size:1.7em></i></a></div></section><section class=right-menu><div class=TableOfContents><label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What's on this page</label><nav><ul><li><a href=/introduction/>Introduction</a></li></ul></nav><nav id=TableOfContents><ul><li><a href=#the-motive>The Motive</a></li><li><a href=#lucid--laravel>Lucid ‚Ä¢ Laravel</a></li><li><a href=#the-architecture>The Architecture</a><ul><li><a href=#framework>Framework</a></li><li><a href=#foundation>Foundation</a></li><li><a href=#services>Services</a></li><li><a href=#domains>Domains</a></li><li><a href=#data>Data</a></li></ul></li></ul></nav></div><div class=Actions><nav><ul><li><i class="fas fa-calendar"></i>Last update on 14 October 2020</li></ul></nav></div></section></article><footer><div class=columns><div class=column><h3 style=color:#fdfdfd!important>Lucid Architecture</h3>for scalable software.</div><div class=column><div style=display:flex;justify-content:flex-end;align-items:center><div><a href=https://github.com/lucid-architecture target=_blank><i class="fab fa-github fa-lg"></i></a><a href=https://lucid-slack.herokuapp.com target=_blank style=margin-left:10px><i class="fab fa-slack fa-lg"></i></a><a href=https://www.reddit.com/r/LucidArchitecture/ target=_blank style=margin-left:10px><i class="fab fa-reddit-alien fa-lg"></i></a></div><div style=margin-left:50px;margin-top:6px><a class=github-button href=https://github.com/sponsors/lucid-architecture data-icon=octicon-heart aria-label="Sponsor @lucid-architecture on GitHub">Sponsor</a>
<a class=github-button href=https://github.com/ntkme/github-buttons data-icon=octicon-star data-show-count=true aria-label="Star ntkme/github-buttons on GitHub">Star</a></div></div></div></div></footer></body></html>